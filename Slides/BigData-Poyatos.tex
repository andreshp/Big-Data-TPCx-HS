%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Authors: A. Herrera Poyatos, J. Poyatos Amador
% Tittle: Big Data: Map Reduce y TPCx-HS
% Date: April - 2016
% University of Granada, Servers Engineering
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%-----------------------------------------------------------------------------------------------------
%	ESSENTIAL PACKAGES
%-----------------------------------------------------------------------------------------------------

% Beamer
\PassOptionsToPackage{unicode}{hyperref}      % Avoid mistakes with non-ASCII characters.
\PassOptionsToPackage{naturalnames}{hyperref} % tex.stackexchange.com/questions/10555
\documentclass[compress]{beamer}

%-----------------------------------------------------------------------------------------------------
%	LANGUAGE CONFIGURATION
%-----------------------------------------------------------------------------------------------------

% Language
\usepackage[spanish, es-tabla]{babel} % Translations
\usepackage[utf8]{inputenc} % Allow UTF-8 characters
\usepackage{lmodern}        % Sources with arbitrary size
\usepackage[T1]{fontenc}    % Allow copying and avoid errors
\uselanguage{Spanish}       % Translations for beamer
\languagepath{Spanish}      % (tex.stackexchange.com/questions/168208)

%-----------------------------------------------------------------------------------------------------
%	OTHER PACKAGES
%-----------------------------------------------------------------------------------------------------

% Mathematics
\usepackage{amsfonts}
\usepackage{amsmath}
\usepackage{amssymb}

% Images
\usepackage{graphicx}                   % Utilizado para insertar gráficos.
\usepackage{caption}                    % Títulos y leyendas para los gráficos.
\usepackage{subcaption}                 % Subfiguras.
\usepackage{wrapfig}

% Algorithms
\usepackage{algorithm}
\usepackage{algorithmic}
\input{./Code/spanishAlgorithmic}

% Graphics
\usepackage{pgfplots}
\pgfplotsset{width=7cm,compat=1.8}   % Graphics options

% Color box
\usepackage{tcolorbox}

% Notes
\usepackage{todonotes}

% tikz
\usepackage{tikz}
\usetikzlibrary{positioning,calc,arrows}
\usetikzlibrary{mindmap,trees,shadows, shapes}
\tikzset{ % Generate overlays
    invisible/.style={opacity=0},
    visible on/.style={alt={#1{}{invisible}}},
    alt/.code args={<#1>#2#3}{\alt<#1>{\pgfkeysalso{#2}}{\pgfkeysalso{#3}}},
}

%-----------------------------------------------------------------------------------------------------
%	COMMANDS
%-----------------------------------------------------------------------------------------------------

% Colours
\definecolor{ChetwodeBlue}{HTML}{6b77ad}    % Background
\definecolor{Jaguar}{HTML}{262731}    % Titles
\definecolor{TurkishRose}{HTML}{b46275} % Comments

% New commands
\newcommand{\importsection}[1]{\input{./Sections/#1}}           % Include sections from sections directory.
\newcommand{\link}[3]{\href{#1}{\textbf{#2}} - {\small #3}}  % Unique style for references

% Background block
\makeatletter
\newbox\@backgroundblock
\newenvironment{backgroundblock}[2]{%
	\global\setbox\@backgroundblock=\vbox\bgroup%
	\unvbox\@backgroundblock%
	\vbox to0pt\bgroup\vskip#2\hbox to0pt\bgroup\hskip#1\relax%
}{\egroup\egroup\egroup}
\addtobeamertemplate{background}{\box\@backgroundblock}{}

%----------------------------------------------------------------------------------------
%	THEMES AND DOCUMENT STRUCTURE
%----------------------------------------------------------------------------------------

% Theme and colour theme
\usetheme{Dresden}
\usecolortheme{dolphin}
\useinnertheme{circles}
\setbeamercovered{transparent}

\setbeamercolor{title}{fg=Jaguar}
\setbeamercolor{frametitle}{fg=ChetwodeBlue}
\setbeamercolor{structure}{fg=Jaguar}

\setbeamertemplate{itemize item}{\color{TurkishRose}$\bullet$}
\setbeamertemplate{itemize subitem}{\color{ChetwodeBlue}$\circ$}
\setbeamercolor{section number projected}{bg=TurkishRose}

% Blocks colour
%\setbeamercolor{structure}{bg=ChetwodeBlue,fg=Jaguar}
%\setbeamercolor{block title}{bg=ChetwodeBlue,fg=ChetwodeBlue}
%\setbeamercolor{block body}{bg=backg,fg=black}
%\setbeamercolor{block title alerted}{fg=red!70!black,bg=title!92!red}
%\setbeamercolor{block body alerted}{fg=black,bg=backg}
%\setbeamercolor{block title example}{fg=green!70!black,bg=title!92!green}
%\setbeamercolor{block body example}{fg=black,bg=backg}
% Links (tex.stackexchange.com/questions/13423)
\hypersetup{colorlinks,linkcolor=,urlcolor=TurkishRose}
% Remove navigation links (stackoverflow.com/questions/3017030)
\setbeamertemplate{navigation symbols}{}

% Remove footline  (stackoverflow.com/questions/1435837)
%\setbeamertemplate{footline}{}

% Avoid warning boxes
\hfuzz=20pt
\vfuzz=20pt
% Avoid warnings in itemize
\renewcommand\textbullet{\ensuremath{\bullet}}

%-----------------------------------------------------------------------------------------------------
%	TITLE PAGE
%-----------------------------------------------------------------------------------------------------

\usepackage[framemethod=tikz]{mdframed}

\newmdenv[tikzsetting={draw=Jaguar,fill=white,fill opacity=0.7, line width=4pt},
backgroundcolor=none,leftmargin=100,rightmargin=0,innertopmargin=4pt]
{titleBox}

% Define the title page.
\defbeamertemplate*{title page}{customized}[1][] {

		\vspace{0.48\paperheight}
		\begin{titleBox}
			\begin{beamercolorbox}[sep=2pt,center]{title}	
				\usebeamerfont{title}\textbf{\inserttitle}\par
			\end{beamercolorbox}
			\begin{beamercolorbox}[sep=4pt,center]{author}	
				\usebeamerfont{author}\insertauthor
			\end{beamercolorbox}
		\end{titleBox}
		
}

%----------------------------------------------------------------------------------------
%	TITLE, AUTHOR AND OTHER INFO
%----------------------------------------------------------------------------------------

% Title
\title{Big Data, Map Reduce y TCPx-HS}

% Authors, e-mails and addresses.
\author[Andrés Herrera Poyatos, Javier Poyatos Amador]{
	Andrés Herrera Poyatos, Javier Poyatos Amador \texorpdfstring{\\
		\href{mailto:andreshp9@gmail.com}{andreshp9@gmail.com}, \href{mailto:poyatosamador@gmail.com}{poyatosamador@gmail.com}
	}{}
}

% Date
\date{10 de Mayo de 2016}

%----------------------------------------------------------------------------------------
%	SLIDES STRUCTURE
%----------------------------------------------------------------------------------------

\begin{document}

	% Title page.
	{
		\usebackgroundtemplate{\includegraphics[width=1\paperwidth]{./Images/Wallpapers/BigDataCropped.jpg}}
		\begin{frame}[plain]
			\titlepage
		\end{frame}			
	}

	% Work motivation. Population diverisity. Target.
	\importsection{Motivacion.tex}

	% Index.
	\begin{frame}{Índice}
		\hypertarget{index}{}
		\tableofcontents
	\end{frame}
	
	\importsection{BigData.tex}

	\importsection{MapReduce.tex}

	\importsection{TPCx-HS.tex}

	% Conclusion.
	\importsection{Conclusion.tex}
	
\end{document}
